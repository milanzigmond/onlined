<head>
	<title>onlined</title>
</head>

<body>
	{{> layout}}    
</body>

<template name="layout">
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container-fluid">
			<a class="navbar-brand" href="{{pathFor 'home'}}">Onlined</a>
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				{{#if currentUser}}
					<button type="button" class="btn btn-primary navbar-btn createWebsiteButton">Create Website</button>
					{{>selectStyle}}
					<button type="submit" class="btn btn-default navbar-btn logout">Logout</button>
					<span class="username">{{email}}</span>
				{{else}}
					<a href="{{pathFor 'register'}}">
						<button type="submit" class="btn btn-primary navbar-btn">Start Here</button>
					</a>
				{{/if}}
			</div>
		</div>
	</nav>
	<div class="container-fluid">
			{{> yield}}
		</div>
</template>

<template name="notFound">
	not found
</template>

<template name="loading">
	<h1>loading ...</h1>
</template>

<template name="alert">
	<div class="alert alert-danger" role="alert" hidden></div>
</template>

<template name="home">
	<div class="container-fluid">

		<div class="row">
    		<div class="col-lg-12">
				<h1>Websites</h1>
				<table class="table table-striped table-hover ">
					<thead>
						<tr>
							<th>Website</th>
							<th>Author</th>
							<th>Created</th>
							<th></th>
						</tr>
					</thead>
					<tbody>
		            	{{#each websites}}
		            		<tr>
							{{>websiteListItem}}
							</tr>
						{{/each}}
		            </tbody>
		        </table>
			</div>
		</div>

		<div class="row">
			<div class="col-lg-12">
				<h1>Users</h1>
				<table class="table table-striped table-hover ">
		            <thead>
						<tr>
							<th>User</th>
							<th>Since</th>
							<th># of websites</th>
							<th></th>
						</tr>
					</thead>
		            <tbody>
		            	{{#each users}}
		            		<tr>
							{{>userItem}}
							</tr>
						{{/each}}
		            </tbody>
		        </table>
			</div>
		</div>
	</div>
</template>

<template name="websiteListItem">
	<td class="title">
		www.onlined.at/<strong>{{sitename}}</strong>
	</td>
	<td>{{email}}</td>
	<td>{{formatDate createdAt "long"}} </td>
	<td>
		<button type="button" class="close">×</button>
	</td>
</template>

<template name="userItem">
	<td>
		{{email}}
	</td>
	<td>{{formatDate createdAt "since"}}</td>
	<td>{{numberOfWebsites}}</td>
	<td>
		<button type="button" class="close">×</button>
	</td>
</template>

<template name="selectStyle">
	<div class="btn-group">
		<a href="#" class="btn btn-primary navbar-btn dropdown-toggle" data-toggle="dropdown">
			Change Visual Style
			<span class="caret"></span>
		</a>
		<ul class="dropdown-menu">
			{{#each styleOptions}}
			<li><a href="#" data-styleid="{{value}}">{{name}}</a></li>
			{{/each}}
		</ul>
	</div>
</template>

<template name="website">
	<div class="modal">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
					<h4 class="modal-title">Your website is LIVE!</h4>
				</div>
				<div class="modal-body">
					<p>Share your website with friends. Your url is:</p>
					<p>...</p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Continue editing</button>
					<button type="button" class="btn btn-primary">Share with friends</button>
				</div>
			</div>
		</div>
	</div>
	{{>topImage}}
	<div class="container">
		<div class="jumbotron">
			{{>title}}
			{{>tagline}}
		</div>
		<div class="row">
			<div class="col-md-7">
				{{>heading}}
				{{>paragraph}}
			</div>
			<div class="col-md-5">
				<img class="featurette-image img-responsive" src="{{content.logo}}">
			</div>
		</div>
		{{>footer}}
	</div>
</template>

<template name="create">
	{{#if editing_website}}
		{{#with editing_website}}
		{{>topImage}}
		<div class="container">	
			<div class="jumbotron">
				{{>title}}
				{{>tagline}}
			</div>
			{{>sectionTeam}}
			<h1>Next section</h1>
			<div class="row">
				<div class="col-md-7">
					{{>heading}}
					{{>paragraph}}
				</div>
				<div class="col-md-5">
					{{>logo}}
				</div>
			</div>
			{{>form}}
		</div>
		{{/with}}
	{{else}}
		{{goHome}}
	{{/if}}
</template>

<template name="sectionTeam">
	<div class="row">
		<div class="col-md-3"><img src="team1.png" width="100px" height="100px" alt=""></div>
		<div class="col-md-3"><img src="team2.png" width="100px" height="100px" alt=""></div>
		<div class="col-md-3"><img src="team3.png" width="100px" height="100px" alt=""></div>
	</div>
</template>

<template name="logo">
	<img class="featurette-image img-responsive" data-src="holder.js/500x500/auto" alt="500x500" src="{{content.logo}}">
</template>

<template name="topImage">
	<div class="topImage">
		<img class="img img-responsive" src="{{content.topImage}}">
	</div>
</template>

<template name="title">
	{{#if editing}}
		<h1><input id="input" class="textInput" type="text" placeholder="{{content.title}}" value="{{content.title}}" /></h1>
	{{else}}
		<h1 id="title">{{content.title}}</h1>
	{{/if}}
</template>

<template name="tagline">
	{{#if editing}}
		<p><input id="input" class="textInput" type="text" placeholder="Enter tagline" value="{{content.tagline}}" /></p>
	{{else}}
		<p id="tagline">{{content.tagline}}</p>
	{{/if}}
</template>

<template name="heading">
	{{#if editing}}
		<h3 class="featurette-heading"><input id="input" class="textInput" type="text" placeholder="Enter heading" value="{{content.heading}}" /></h3>
	{{else}}
		<h3 id="heading" class="featurette-heading">{{content.heading}}</h3>
	{{/if}}
</template>

<template name="paragraph">
	{{#if editing}}
		<p><textarea id="input" rows="4" cols="50">{{content.paragraph}}
	</textarea></p>
	{{else}}
		<p id="paragraph" class="lead">{{content.paragraph}}</p>
	{{/if}}
</template>

<template name="form">
	<form class="form-horizontal">
		<fieldset>
			<legend>...</legend>
			
			<div class="form-group form-group-lg">
				<div class="col-lg-2">
					<label for="input-sitename" class="col-sm-2 control-label">www.onlined.at/</label>
				</div>
				
				<div class="col-lg-8">
					<input type="text" class="form-control input-lg" id="input-sitename" placeholder="yourwebsitename">
				</div>
				<div class="col-lg-2">
					<button type="submit" class="btn btn-success btn-lg">Create Web</button>
				</div>
			</div>
		</fieldset>
	</form>
</template>

<template name="footer">
	<div class="row withpadding">
		<div class="col-lg-6"><a href="#" class="btn btn-default btn-md">Edit</a></div>
		<div class="col-lg-6">
			<img src="onlinedLogo.png" width="100px" height="auto" class="pull-right">
		</div>
	</div>
</template>

<template name="login">
	<div class="row">
		<div class="col-md-4 col-md-offset-4">
			<form id="login-form" action="action" role="form">
				<div class="form-group">
					<label for="login-email">Email address</label>
					<input id="login-email" type="email" class="form-control" placeholder="Enter email">
				</div>
				<div class="form-group">
					<label for="login-password">Password</label>
					<input id="login-password" type="password" class="form-control" placeholder="Enter password">
				</div>
				<button id="login-button" type="submit" class="btn btn-lg btn-success btn-block">Login</button><br />
			</form>
			<a href="{{pathFor 'register'}}"><button type="button" class="btn btn-default btn-block">Register</button></a>
			<br />
			{{> alert}}
		</div>
	</div>
</template>

<template name="register">
	<div class="row">
		<div class="col-md-4 col-md-offset-4">
			<form id="register-form" action="action" role="form">
				<div class="form-group">
					<label for="register-email">Email address</label>
					<input id="register-email" type="email" class="form-control" placeholder="Enter email">
				</div>
				<div class="form-group">
					<label for="register-password">Password</label>
					<input id="register-password" type="password" class="form-control" placeholder="Enter password">
				</div>
				<button id="register-button" type="submit" class="btn btn-lg btn-success btn-block">Register</button><br />
			</form>
			<a href="{{pathFor 'login'}}"><button type="button" class="btn btn-default btn-block">Login</button></a>
			<br />
			{{> alert}}
		</div>
	</div>
</template>

<template name="passwordRecovery">
	{{#if resetPassword}}
		<form id="new-password" role="form">
			<div class="form-group">
				<label for="new-password-password">New password</label>
				<input id="new-password-password" type="text" class="form-control" placeholder="Enter email">
			</div>
			<button id="create-account" type="submit" class="btn btn-default">Change Password</button>
		</form>
	{{else}}
		<form id="recovery-form" role="form">
			<div class="form-group">
				<label for="recovery-email">New password</label>
				<input id="recovery-email" type="text" class="form-control" placeholder="Enter email">
			</div>
			<button id="create-account" type="submit" class="btn btn-default">Send Reset Instructions</button>
		</form>
	{{/if}}
</template>
